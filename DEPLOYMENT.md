# Evilginx2 Deployment Guide for Coolify

This guide will help you deploy Evilginx2 on Coolify using Docker.

## Prerequisites

- Coolify instance running
- Domain name pointing to your server
- SSL certificates will be automatically generated by Evilginx2

## Deployment Steps

### Method 1: Using Docker Compose (Recommended)

1. **Create a new project in Coolify**
   - Go to your Coolify dashboard
   - Click "New Project"
   - Choose "Docker Compose"

2. **Add the repository**
   - Repository URL: `https://github.com/kgretzky/evilginx2` (or your fork)
   - Branch: `master`

3. **Configure the deployment**
   - Set the compose file path to `docker-compose.yml`
   - Configure environment variables if needed

4. **Port Configuration**
   - DNS: Port 53 (UDP)
   - HTTP: Port 80
   - HTTPS: Port 443

5. **Deploy**
   - Click "Deploy"
   - Wait for the build to complete

### Method 2: Using Dockerfile

1. **Create a new Docker service**
   - Choose "Docker" service type
   - Set the repository URL

2. **Configure build settings**
   - Dockerfile path: `Dockerfile`
   - Build context: `.`

3. **Set environment variables**
   ```
   EVILGINX_CONFIG_DIR=/app/data
   EVILGINX_PHISHLETS_DIR=/app/phishlets
   EVILGINX_REDIRECTORS_DIR=/app/redirectors
   ```

4. **Configure ports**
   - 53:53/udp (DNS)
   - 80:80 (HTTP)
   - 443:443 (HTTPS)

5. **Volume mounts**
   - `/app/data` - Configuration and session data
   - `/app/crt` - SSL certificates

## Important Notes

### Network Configuration
- Ensure your server has proper firewall rules for ports 53, 80, and 443
- DNS port (53) requires UDP protocol
- The container needs `NET_ADMIN` and `NET_RAW` capabilities for DNS functionality

### Security Considerations
- The container runs as non-root user for security
- SSL certificates are automatically generated and managed
- Session data is persisted in volumes

### Domain Setup
- Point your domain's A record to your server's IP
- Configure NS records if you want to use custom nameservers
- Evilginx2 will handle SSL certificate generation automatically

### First Run
1. Access the terminal inside the container
2. Run the evilginx2 binary
3. Configure your phishlets and domains through the interactive terminal

### Customization
- Add custom phishlets by mounting them to `/app/phishlets`
- Add custom redirectors by mounting them to `/app/redirectors`
- Modify the docker-compose.yml to include your custom volumes

## Troubleshooting

### Common Issues
1. **Port 53 binding issues**: Make sure no other DNS service is running on the host
2. **SSL certificate errors**: Ensure your domain is properly configured and accessible
3. **Permission errors**: Check that the evilginx user has proper permissions

### Logs
Check container logs using:
```bash
docker logs evilginx2
```

### Health Check
The container includes a health check that verifies the HTTPS service is running.

## Security Warning

⚠️ **Important**: Evilginx2 is a penetration testing tool. Use it only for legitimate security testing with proper authorization. Unauthorized use may be illegal.

## Support

For issues with the tool itself, refer to the official Evilginx2 documentation:
- https://help.evilginx.com
- https://github.com/kgretzky/evilginx2
